
<div class="row" style="margin:0px">
<div style="width:150px;border: 1px solid silver;height: 32px;" class="pull-left">
  <app-singleselect [items]="cmpList" [config]="" (selectedItemChange)="cmpSelected($event)" [(selectedItem)]="selectedCmp" [key]="'lable'"></app-singleselect>
</div>
</div>
<br>
<div class="row" style="margin:0px">
  <div class="col-lg-3 col-xs-6 " >
    <!-- small box -->
    <div class="small-box b1">
      <div class="inner">
        <h3>{{totalTrailers}}</h3>
        <p>Total</p>
      </div>
      <div class="icon">
        <img width="100" src="../../assets/images/dash/trailer-1.png" />
      </div>
      
    </div>
  </div><!-- ./col -->
  <div class="col-lg-3 col-xs-6 " >
    <!-- small box -->
    <div class="small-box b2">
      <div class="inner">
        <h3>{{emptyTrailers}}</h3>
        <p>Empty</p>
      </div>
      <div class="icon">
          <img width="100" src="../../assets/images/dash/empty-2.png" />
      </div>
      
    </div>
  </div><!-- ./col -->
  <div class="col-lg-3 col-xs-6 " >
    <!-- small box -->
    <div class="small-box b3">
      <div class="inner">
        <h3>{{movingTrailers}}</h3>
        <p>Moving</p>
      </div>
      <div class="icon">
          <img width="100" src="../../assets/images/dash/moving-3.png" />
      </div>
      
    </div>
  </div><!-- ./col -->
  <div class="col-lg-3 col-xs-6 " >
    <!-- small box -->
    <div class="small-box b4">
      <div class="inner">
        <h3>{{shedTrailers}}</h3>
        <p>In-Shed</p>
      </div>
      <div class="icon">
          <img width="100" src="../../assets/images/dash/shed-4.png" />
      </div>
      
    </div>
  </div><!-- ./col -->
</div>



<br>
<div class="row" style="margin:0px">
  <!-- <div class="col-md-4" style="height:330px;">
    <div style="height:40px" class="kpi-head"><label class="pull-left kpi-title">Trailer Stats</label></div>
    <div style="height:290px;border:1px solid silver">
      <div *ngIf="trCountResp">
        <div class="col-md-6 centered box1" style=""><div style="font-size: 30px">{{totalTrailers}}</div><br><div>Total Trailers: </div></div>
        <div class="col-md-6 centered box2" style=""><label>Empty Trailers: </label>{{emptyTrailers}}</div>
        <div class="col-md-6 centered box3" style=""><label>Moving Trailers: </label>{{movingTrailers}}</div>
        <div class="col-md-6 centered box4" style=""><label>Shed Trailers: </label>{{shedTrailers}}</div>
      </div>
        <div *ngIf="!trCountResp" class="histLoader"><img src="../../assets/images/loader.gif" /></div>
    </div>
  </div> -->
  <div class="col-md-6" style="height:380px;">
    <!-- <div style="height:40px" class="kpi-head"><label class="pull-left kpi-title">Status</label></div> -->
    <div style="height:380px;border:1px solid silver;">
      <div *ngIf="trailers.length>0">
        <!-- <canvas height="130" baseChart [options]="chartOptions" [colors]="colors" [data]="statusChartData" [labels]="pieChartLabels" [chartType]="pieChartType" (chartClick)="chartClicked($event,1)"></canvas> -->
        <nvd3 [options]="trStatusChartoptions" [data]="trStatusChartdata"></nvd3>
      </div>
      <div *ngIf="trailers.length==0" class="histLoader"><img src="../../assets/images/loader.gif" /></div>
    </div>
  </div>
  <div class="col-md-6" style="height:380px;">
      <!-- <div style="height:40px" class="kpi-head"><label class="pull-left kpi-title">Trailer Type</label></div> -->
      <div style="height:380px;border:1px solid silver;">
      <div *ngIf="trailers.length>0">
        <!-- <canvas height="130" baseChart [options]="chartOptions" [colors]="colors" [data]="typeChartData" [labels]="typeChartLabels" [chartType]="pieChartType"
        (chartClick)="chartClicked($event,2)"></canvas> -->
        <nvd3 [options]="trTypeChartoptions" [data]="trTypeChartData"></nvd3>
      </div>
      <div *ngIf="trailers.length==0" class="histLoader"><img src="../../assets/images/loader.gif" /></div>
    </div>
  </div>
</div>
<br><br>
<label *ngIf="showGrid">Covanent {{selectedLable}} trailers</label>
<div style="padding-top:15px;" *ngIf="showGrid">
  <div>
    <table class="app-table table-striped table-hover table-bordered1 table table-fixed">
      <thead style="font-size: 12px">
        <tr bgcolor="#f7f8fc" class="app-table-tr full">
          <ng-container *ngFor="let con of ob.column">
            <th [ngStyle]="{'width':con.width}" style="text-align:center;">{{con.name}}</th>
          </ng-container>
        </tr>
      </thead>
      <tbody id="tgBody" *ngIf="allTrailler.length!=0 " style="font-size: 12px;border: 1px solid silver;border-top: none;"
        (scroll)="tableScrolled(this)">
        <ng-container *ngFor="let i=index;let item of allTrailler">
          <tr class="full" *ngIf="i<gRowCount">

            <td style="text-align:center;width:12.5%">
              <span>{{item.trailerID}}</span>
            </td>
            <td style="text-align:center;width:12.5%">
              <span>{{item.trailerName}}</span>
            </td>
            <td style="text-align:center;width:12.5%">
              <span>{{item.trailerType}}</span>
            </td>
            <td style="text-align:center;width:12.5%">
              <span>{{item.location}}</span>
            </td>
            
            <td style="text-align:center;width:12.5%">
              <span>{{item.trailerStatus}}</span>
            </td>

            <td style="text-align:center;width:12.5%">
                <span>{{formatDateTime(item.dotDate)}}</span>
            </td>
            
            <td style="text-align:center;width:12.5%">
              <span>{{formatDateTime(item.lastPingDate)}}</span>
            </td>
            <td style="text-align:center;width:12.5%">
                <span>{{item.company}}</span>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
    <div style="text-align:center;border:1px solid silver;padding:10px;border-top:none" *ngIf="allTrailler.length==0 ">No data found</div>
    <!--<div *ngIf="trailerStatusResp" style="padding-top: 10px;">1 - {{gRowCount}} out of {{allTrailler.length}} record(s) found</div>-->
    <div style="padding-top: 10px;">{{allTrailler.length}} record(s) found</div>
  </div>
</div>